{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | Rent House Admin{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'admin/css/custom_admin.css' %}">
{% endblock %}

{% block branding %}
<h1 id="site-name">
  <a href="{% url 'admin:index' %}">
    <img src="{% static 'admin/img/logo.png' %}" alt="Rent House Logo" height="30px" style="margin-right: 10px; vertical-align: middle;"> 
    Rent House Administration
  </a>
</h1>
{% endblock %}

{% block userlinks %}
<div class="theme-toggle">
  <span class="theme-toggle-icon">‚òÄÔ∏è</span>
  <label class="theme-toggle-label">
    <input type="checkbox" class="theme-toggle-input" id="theme-toggle">
    <span class="theme-toggle-slider"></span>
  </label>
  <span class="theme-toggle-icon">üåô</span>
</div>
{{ block.super }}
{% endblock %}

{% block nav-global %}{% endblock %}

{% block footer %}
{{ block.super }}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get theme toggle element
    const themeToggle = document.getElementById('theme-toggle');
    
    // Check for saved theme preference or use preferred color scheme
    const currentTheme = localStorage.getItem('theme') || 
                        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
    
    // Apply the current theme
    document.documentElement.setAttribute('data-theme', currentTheme);
    themeToggle.checked = currentTheme === 'dark';
    
    // Add event listener for theme toggle
    themeToggle.addEventListener('change', function(e) {
      if (e.target.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      }
    });
  });
</script>
{% endblock %}